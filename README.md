# NixOS Configuration

This repository contains the NixOS flake configuration for my personal system (`nixos-btw`).

>[!NOTE]
This will give you an unconfigured barebones setup. To use my config head over to [my dotfiles repo](https://github.com/snezzz0/dotfiles)

## Overview

- **OS**: NixOS (Unstable)
- **Hostname**: `nixos-btw`
- **User**: `adam`
- **WM/Compositor**: [Niri](https://github.com/YaLTeR/niri)
- **Shell**: Zsh
- **Theming**: Stylix

## Directory Structure

- `flake.nix`: Entry point for the system configuration.
- `configuration.nix`: Main system configuration (boot, networking, users, etc.).
- `home.nix`: Home Manager configuration (user-specific dotfiles and settings).
- `modules/`: Custom modules (Kitty, Theme, Zsh, etc.).
- `hardware-configuration.nix`: Hardware-specific settings (generated by installation).

## Installation

### 1. Pre-installation
Boot into the NixOS installation media. Partition and format your drives as desired, mounting your root partition to `/mnt`.

### 2. Clone the Repository
Clone this repository into your home directory (or where you plan to keep it):

```bash
git clone https://github.com/yourusername/nix-config ~/nix-config
cd ~/nix-config
```

### 3. Hardware Configuration
If installing on new hardware, generate the hardware configuration:

```bash
nixos-generate-config --show-hardware-config > hardware-configuration.nix
```

*Note: Review the generated file to ensure it matches your hardware specifics.*

### 4. Install
Run the install command using the flake:

```bash
sudo nixos-install --flake .#nixos-btw
```

After installation completes, reboot into your new system.

## Updating

To update the system after making changes to the configuration files:

1. **Pull latest changes** (if managing via git):
   ```bash
   git pull
   ```

2. **Rebuild and Switch**:
   ```bash
   sudo nixos-rebuild switch --flake .
   ```

## updating `flake.lock`

To update the inputs (e.g., system packages, stylix) to their latest versions:

```bash
nix flake update
sudo nixos-rebuild switch --flake .
```
